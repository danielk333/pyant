.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_gallery_plot_interp_antenna.py>`     to download the full example code
    .. rst-class:: sphx-glr-example-title

    .. _sphx_glr_auto_gallery_plot_interp_antenna.py:


Interpolated Antenna array gain
================================



.. rst-class:: sphx-glr-horizontal


    *

      .. image:: /auto_gallery/images/sphx_glr_plot_interp_antenna_001.png
          :alt: Gain pattern
          :class: sphx-glr-multi-img

    *

      .. image:: /auto_gallery/images/sphx_glr_plot_interp_antenna_002.png
          :alt: Gain pattern
          :class: sphx-glr-multi-img

    *

      .. image:: /auto_gallery/images/sphx_glr_plot_interp_antenna_003.png
          :alt: Gain pattern
          :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Heatmap plot pointing interp: 0.1 seconds
    Heatmap plot antenna array: 0.7 seconds
    Heatmap plot interpolated array: 0.1 seconds
    Speedup = factor of 13.42






|


.. code-block:: default

    import time

    import numpy as np

    import pyant

    xv, yv = np.meshgrid(np.linspace(-50,50, num=22), np.linspace(-50,50, num=22))
    antennas = np.zeros((22**2, 3))
    antennas[:,0] = xv.flatten()
    antennas[:,1] = yv.flatten()

    ant = pyant.Array(
        azimuth=0,
        elevation=90.0, 
        frequency=46.5e6,
        antennas=antennas,
    )

    interp_ant = pyant.PlaneArrayInterp(
        azimuth=0,
        elevation=90.0, 
        frequency=46.5e6,
    )

    interp_ant.generate_interpolation(ant, resolution=150)

    start_time = time.time()
    pyant.plotting.gain_heatmap(ant, resolution=100, min_elevation=80.0)
    array_time = time.time() - start_time

    start_time = time.time()
    pyant.plotting.gain_heatmap(interp_ant, resolution=100, min_elevation=80.0)
    interp_time = time.time() - start_time

    #pointing causes no slow-down
    interp_ant.sph_point(elevation=30.0, azimuth=45.0)

    start_time = time.time()
    pyant.plotting.gain_heatmap(interp_ant, resolution=100, min_elevation=80.0)
    print(f'Heatmap plot pointing interp: {time.time() - start_time:.1f} seconds')

    print(f'Heatmap plot antenna array: {array_time:.1f} seconds')
    print(f'Heatmap plot interpolated array: {interp_time:.1f} seconds')
    print(f'Speedup = factor of {array_time/interp_time:.2f}')

    pyant.plotting.show()

.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  3.082 seconds)


.. _sphx_glr_download_auto_gallery_plot_interp_antenna.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_interp_antenna.py <plot_interp_antenna.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_interp_antenna.ipynb <plot_interp_antenna.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
